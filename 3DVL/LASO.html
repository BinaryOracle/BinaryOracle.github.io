<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.23" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.88" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme="dark"] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"LASO æ¨¡å‹ä»£ç è§£è¯»ä¸å¤ç°","image":[""],"datePublished":"2025-05-30T00:00:00.000Z","dateModified":"2025-06-12T06:09:51.000Z","author":[{"@type":"Person","name":"BinaryOracle"}]}</script><meta property="og:url" content="https://mister-hope.github.io/3DVL/LASO.html"><meta property="og:site_name" content="MetaMind"><meta property="og:title" content="LASO æ¨¡å‹ä»£ç è§£è¯»ä¸å¤ç°"><meta property="og:description" content="LASO: Language-guided Affordance Segmentation on 3D Object è®ºæ–‡ä»£ç è§£è¯»ä¸å¤ç°"><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2025-06-12T06:09:51.000Z"><meta property="article:author" content="BinaryOracle"><meta property="article:tag" content="ç¼–è¾‘ä¸­"><meta property="article:tag" content="3D Affordance"><meta property="article:tag" content="3D-VL"><meta property="article:published_time" content="2025-05-30T00:00:00.000Z"><meta property="article:modified_time" content="2025-06-12T06:09:51.000Z"><title>LASO æ¨¡å‹ä»£ç è§£è¯»ä¸å¤ç° | MetaMind</title><meta name="description" content="LASO: Language-guided Affordance Segmentation on 3D Object è®ºæ–‡ä»£ç è§£è¯»ä¸å¤ç°">
    <link rel="preload" href="/assets/style-iAhCzkeZ.css" as="style"><link rel="stylesheet" href="/assets/style-iAhCzkeZ.css">
    <link rel="modulepreload" href="/assets/app-DCeaLz3w.js"><link rel="modulepreload" href="/assets/LASO.html-BMwvhWKa.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper-DlAUqK2U.js">
    <link rel="prefetch" href="/assets/index.html-B1xMUxSi.js" as="script"><link rel="prefetch" href="/assets/intro.html-D3zBO7X_.js" as="script"><link rel="prefetch" href="/assets/Grounding_3D_Object_Affordance.html-Pp3eDk-k.js" as="script"><link rel="prefetch" href="/assets/index.html-Dc3zGBqi.js" as="script"><link rel="prefetch" href="/assets/ç®€æPointNet__.html-COAC_8-4.js" as="script"><link rel="prefetch" href="/assets/ç®€æPointNet.html-fCxeDn76.js" as="script"><link rel="prefetch" href="/assets/index.html-BhqV7cDC.js" as="script"><link rel="prefetch" href="/assets/å¤šæ¨¡æ€æ¨¡å‹CLIPåŸç†ä¸å›¾ç‰‡åˆ†ç±»ï¼Œæ–‡å­—æœç´¢å›¾åƒå®æˆ˜æ¼”ç»ƒ.html-Do8kKx5c.js" as="script"><link rel="prefetch" href="/assets/åº–ä¸è§£ç‰›BLIP2.html-DOQW_1AT.js" as="script"><link rel="prefetch" href="/assets/åº–ä¸è§£ç‰›VIT.html-C8rGQJBK.js" as="script"><link rel="prefetch" href="/assets/index.html-Ci5V6xpU.js" as="script"><link rel="prefetch" href="/assets/å›¾è§£BERT.html-CKYu3dU_.js" as="script"><link rel="prefetch" href="/assets/å›¾è§£Transformer.html-BrplKk_e.js" as="script"><link rel="prefetch" href="/assets/ç®€æLLaMA.html-CpW8Malc.js" as="script"><link rel="prefetch" href="/assets/index.html-Bz5Pzq7C.js" as="script"><link rel="prefetch" href="/assets/åŸºäºTransformerå®ç°çš„èŠå¤©æœºå™¨äºº.html-BDSX0ckL.js" as="script"><link rel="prefetch" href="/assets/Attentionè¿ç®—è¿‡ç¨‹ä¸­ç»´åº¦å˜æ¢çš„ç†è§£.html-DqyFmIas.js" as="script"><link rel="prefetch" href="/assets/index.html-CmyI6U_b.js" as="script"><link rel="prefetch" href="/assets/condaè™šæ‹Ÿç¯å¢ƒç®¡ç†.html-DbPyaU7N.js" as="script"><link rel="prefetch" href="/assets/404.html-BXfiLdH-.js" as="script"><link rel="prefetch" href="/assets/index.html-CXzcvbl_.js" as="script"><link rel="prefetch" href="/assets/index.html-hbmlSk5L.js" as="script"><link rel="prefetch" href="/assets/index.html-DbdXgpDv.js" as="script"><link rel="prefetch" href="/assets/index.html-DT-mjCcf.js" as="script"><link rel="prefetch" href="/assets/index.html-Be2Sm548.js" as="script"><link rel="prefetch" href="/assets/index.html-B4pLxREE.js" as="script"><link rel="prefetch" href="/assets/index.html-DWY2Zs-j.js" as="script"><link rel="prefetch" href="/assets/index.html-dNKmmdc4.js" as="script"><link rel="prefetch" href="/assets/index.html-jxlygo0I.js" as="script"><link rel="prefetch" href="/assets/index.html-DDON9jRs.js" as="script"><link rel="prefetch" href="/assets/index.html-pRuWDhyO.js" as="script"><link rel="prefetch" href="/assets/index.html-DZ9i5k6z.js" as="script"><link rel="prefetch" href="/assets/index.html-D5LbKfgX.js" as="script"><link rel="prefetch" href="/assets/index.html-BjVywM7v.js" as="script"><link rel="prefetch" href="/assets/index.html-B_n7ifSH.js" as="script"><link rel="prefetch" href="/assets/index.html-CHdxZJfP.js" as="script"><link rel="prefetch" href="/assets/index.html-D4-kE4BW.js" as="script"><link rel="prefetch" href="/assets/index.html-x4S9mvBQ.js" as="script"><link rel="prefetch" href="/assets/index.html-CRH9mQIS.js" as="script"><link rel="prefetch" href="/assets/photoswipe.esm-DXWKOczD.js" as="script"><link rel="prefetch" href="/assets/SearchResult-Bkl7GAT4.js" as="script"><link rel="prefetch" href="/assets/giscus-1zs_z9NH.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><div class="theme-container external-link-icon has-toc" vp-container><!--[--><header id="navbar" class="vp-navbar" vp-navbar><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><a class="route-link vp-brand" href="/" aria-label="å¸¦æˆ‘å›å®¶"><img class="vp-nav-logo" src="/assets/images/head.png" alt><!----><span class="vp-site-name hide-in-pad">MetaMind</span></a><!--]--></div><div class="vp-navbar-center"><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/" aria-label="ä¸»é¡µ"><!--[--><iconify-icon class="vp-icon" icon="fa6-solid:house" height="1em" sizing="height"></iconify-icon><!--]-->ä¸»é¡µ<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/LLM/" aria-label="å¤§è¯­è¨€æ¨¡å‹"><!--[--><iconify-icon class="vp-icon" icon="fa6-solid:book" height="1em" sizing="height"></iconify-icon><!--]-->å¤§è¯­è¨€æ¨¡å‹<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/MMLLM/" aria-label="å¤šæ¨¡æ€"><!--[--><iconify-icon class="vp-icon" icon="fa6-solid:laptop-code" height="1em" sizing="height"></iconify-icon><!--]-->å¤šæ¨¡æ€<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link route-link-active auto-link" href="/3DVL/" aria-label="3D-Vision Language"><!--[--><iconify-icon class="vp-icon" icon="fa6-solid:eye" height="1em" sizing="height"></iconify-icon><!--]-->3D-Vision Language<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/open_projects/" aria-label="å¼€æºé¡¹ç›®"><!--[--><iconify-icon class="vp-icon" icon="fa6-solid:star" height="1em" sizing="height"></iconify-icon><!--]-->å¼€æºé¡¹ç›®<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/other/" aria-label="æ‚è°ˆ"><!--[--><iconify-icon class="vp-icon" icon="fa6-solid:sun" height="1em" sizing="height"></iconify-icon><!--]-->æ‚è°ˆ<!----></a></div></nav><!--]--></div><div class="vp-navbar-end"><!--[--><!----><!----><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-color-mode-switch" id="color-mode-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" name="auto" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" name="dark" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" name="light" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!--[--><button type="button" class="slimsearch-button" aria-label="æœç´¢"><svg xmlns="http://www.w3.org/2000/svg" class="icon search-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="search icon"><path d="M192 480a256 256 0 1 1 512 0 256 256 0 0 1-512 0m631.776 362.496-143.2-143.168A318.464 318.464 0 0 0 768 480c0-176.736-143.264-320-320-320S128 303.264 128 480s143.264 320 320 320a318.016 318.016 0 0 0 184.16-58.592l146.336 146.368c12.512 12.48 32.768 12.48 45.28 0 12.48-12.512 12.48-32.768 0-45.28"></path></svg><div class="slimsearch-placeholder">æœç´¢</div><div class="slimsearch-key-hints"><kbd class="slimsearch-key">Ctrl</kbd><kbd class="slimsearch-key">K</kbd></div></button><!--]--><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar" vp-sidebar><!----><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/" aria-label="ä¸»é¡µ"><!--[--><iconify-icon class="vp-icon" icon="fa6-solid:house" width="1em" height="1em" sizing="both"></iconify-icon><!--]-->ä¸»é¡µ<!----></a></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><iconify-icon class="vp-icon" icon="fa6-solid:book" width="1em" height="1em" sizing="both"></iconify-icon><span class="vp-sidebar-title">å¤§è¯­è¨€æ¨¡å‹</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><iconify-icon class="vp-icon" icon="fa6-solid:laptop-code" width="1em" height="1em" sizing="both"></iconify-icon><span class="vp-sidebar-title">å¤šæ¨¡æ€</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><iconify-icon class="vp-icon" icon="fa6-solid:eye" width="1em" height="1em" sizing="both"></iconify-icon><span class="vp-sidebar-title">3D-Vision Language</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link route-link-active auto-link vp-sidebar-link active" href="/3DVL/LASO.html" aria-label="LASO æ¨¡å‹ä»£ç è§£è¯»ä¸å¤ç°"><!--[--><iconify-icon class="vp-icon" icon="fa6-solid:file" width="1em" height="1em" sizing="both"></iconify-icon><!--]-->LASO æ¨¡å‹ä»£ç è§£è¯»ä¸å¤ç°<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/3DVL/Grounding_3D_Object_Affordance.html" aria-label="LMAffordance3D æ¨¡å‹ä»£ç è§£è¯»ä¸å¤ç°"><!--[--><iconify-icon class="vp-icon" icon="fa6-solid:file" width="1em" height="1em" sizing="both"></iconify-icon><!--]-->LMAffordance3D æ¨¡å‹ä»£ç è§£è¯»ä¸å¤ç°<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/3DVL/%E7%AE%80%E6%9E%90PointNet.html" aria-label="ç®€æPointNet"><!--[--><iconify-icon class="vp-icon" icon="fa6-solid:file" width="1em" height="1em" sizing="both"></iconify-icon><!--]-->ç®€æPointNet<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/3DVL/%E7%AE%80%E6%9E%90PointNet__.html" aria-label="ç®€æPointNet++"><!--[--><iconify-icon class="vp-icon" icon="fa6-solid:file" width="1em" height="1em" sizing="both"></iconify-icon><!--]-->ç®€æPointNet++<!----></a></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><iconify-icon class="vp-icon" icon="fa6-solid:star" width="1em" height="1em" sizing="both"></iconify-icon><span class="vp-sidebar-title">å¼€æºé¡¹ç›®</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><iconify-icon class="vp-icon" icon="fa6-solid:sun" width="1em" height="1em" sizing="both"></iconify-icon><span class="vp-sidebar-title">æ‚è°ˆ</span><span class="vp-arrow end"></span></button><!----></section></li><li><a class="route-link auto-link vp-sidebar-link" href="/intro.html" aria-label="å…³äºæˆ‘ä»¬"><!--[--><iconify-icon class="vp-icon" icon="fa6-solid:circle-info" width="1em" height="1em" sizing="both"></iconify-icon><!--]-->å…³äºæˆ‘ä»¬<!----></a></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><div class="page-cover"><img src="/assets/cover/LASO.png" alt no-view></div><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><iconify-icon class="vp-icon" icon="fa6-solid:file" height="1em" sizing="height"></iconify-icon>LASO æ¨¡å‹ä»£ç è§£è¯»ä¸å¤ç°</h1><div class="page-info"><span class="page-author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><span class="page-author-item">BinaryOracle</span></span><span property="author" content="BinaryOracle"></span></span><!----><span class="page-date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span data-allow-mismatch="text">2025/5/30</span><meta property="datePublished" content="2025-05-30T00:00:00.000Z"></span><span class="page-category-info" aria-label="åˆ†ç±»ğŸŒˆ" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon" name="category"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item color0 clickable" role="navigation">3D-VL</span><span class="page-category-item color3 clickable" role="navigation">3D Affordance</span><!--]--><meta property="articleSection" content="3D-VL,3D Affordance"></span><span class="page-tag-info" aria-label="æ ‡ç­¾ğŸ·" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon" name="tag"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><!--[--><span class="page-tag-item color0 clickable" role="navigation">3D-VL</span><span class="page-tag-item color3 clickable" role="navigation">3D Affordance</span><span class="page-tag-item color4 clickable" role="navigation">ç¼–è¾‘ä¸­</span><!--]--><meta property="keywords" content="3D-VL,3D Affordance,ç¼–è¾‘ä¸­"></span><span class="page-reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 9 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT9M"></span><span class="page-word-info" aria-label="å­—æ•°ğŸ” " data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon word-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="word icon" name="word"><path d="M518.217 432.64V73.143A73.143 73.143 0 01603.43 1.097a512 512 0 01419.474 419.474 73.143 73.143 0 01-72.046 85.212H591.36a73.143 73.143 0 01-73.143-73.143z"></path><path d="M493.714 566.857h340.297a73.143 73.143 0 0173.143 85.577A457.143 457.143 0 11371.566 117.76a73.143 73.143 0 0185.577 73.143v339.383a36.571 36.571 0 0036.571 36.571z"></path></svg><span>çº¦ 2766 å­—</span><meta property="wordCount" content="2766"></span></div><hr></div><!----><div class="" vp-content><!----><div id="markdown-content"><p><code>LASO: Language-guided Affordance Segmentation on 3D Object è®ºæ–‡ä»£ç è§£è¯»ä¸å¤ç°</code></p><!-- more --><h1 id="laso-æ¨¡å‹ä»£ç è§£è¯»ä¸å¤ç°" tabindex="-1"><a class="header-anchor" href="#laso-æ¨¡å‹ä»£ç è§£è¯»ä¸å¤ç°"><span>LASO æ¨¡å‹ä»£ç è§£è¯»ä¸å¤ç°</span></a></h1><blockquote><p>è®ºæ–‡: <a href="https://openaccess.thecvf.com/content/CVPR2024/papers/Li_LASO_Language-guided_Affordance_Segmentation_on_3D_Object_CVPR_2024_paper.pdf" target="_blank" rel="noopener noreferrer">https://openaccess.thecvf.com/content/CVPR2024/papers/Li_LASO_Language-guided_Affordance_Segmentation_on_3D_Object_CVPR_2024_paper.pdf</a><br> ä»£ç : <a href="https://github.com/yl3800/LASO" target="_blank" rel="noopener noreferrer">https://github.com/yl3800/LASO</a></p></blockquote><p>è¿™ç¯‡è®ºæ–‡æå‡ºäº†ä¸€é¡¹æ–°çš„ä»»åŠ¡å’Œä¸€ä¸ªé…å¥—çš„æ•°æ®é›†ï¼Œæ—¨åœ¨æ¨åŠ¨ <strong>è¯­è¨€å¼•å¯¼ä¸‹çš„</strong> 3Då¯¹è±¡åŠŸèƒ½åŒºåŸŸåˆ†å‰²ï¼ˆLanguage-guided Affordance Segmentation on 3D Object, ç®€ç§° LASOï¼‰ã€‚</p><h2 id="æ•°æ®é›†" tabindex="-1"><a class="header-anchor" href="#æ•°æ®é›†"><span>æ•°æ®é›†</span></a></h2><h3 id="_1-åŸºç¡€æ•°æ®æ¥æº" tabindex="-1"><a class="header-anchor" href="#_1-åŸºç¡€æ•°æ®æ¥æº"><span>1. åŸºç¡€æ•°æ®æ¥æº</span></a></h3><p>æ•°æ®é›†åŸºäº <strong>3D-AffordanceNet</strong> æä¾›çš„ç‚¹äº‘å’ŒåŠŸèƒ½åŒºåŸŸæ ‡æ³¨æ„å»ºï¼š</p><ul><li>æ¯ä¸ªç‰©ä½“éƒ½ä»¥ç‚¹äº‘å½¢å¼è¡¨ç¤ºï¼›</li><li>ç‚¹äº‘ä¸­çš„æ¯ä¸ªç‚¹è¢«æ ‡æ³¨ä¸ºæ”¯æŒä¸€ä¸ªæˆ–å¤šä¸ªåŠŸèƒ½ç±»å‹ï¼ˆmulti-class affordance labelsï¼‰ï¼Œä¾‹å¦‚ graspã€openã€liftã€move ç­‰ï¼›</li><li>è¿™äº›åŠŸèƒ½æ ‡æ³¨æ˜¯äººå·¥æ ‡æ³¨çš„ï¼Œå…·æœ‰è¯­ä¹‰æ„ä¹‰ï¼›</li></ul><blockquote><p><strong>ä¸ºä»€ä¹ˆä½¿ç”¨ 3D-AffordanceNetï¼Ÿ</strong></p><ul><li>å› ä¸ºå®ƒæä¾›äº†é«˜è´¨é‡çš„ç‚¹äº‘å’ŒåŠŸèƒ½æ ‡æ³¨ï¼Œèƒ½å¤Ÿå¾ˆå¥½åœ°æ”¯æŒ LASO çš„ç›®æ ‡ï¼šæ ¹æ®è‡ªç„¶è¯­è¨€é—®é¢˜æ‰¾å‡ºä¸ä¹‹ç›¸å…³çš„åŠŸèƒ½åŒºåŸŸã€‚</li></ul></blockquote><h3 id="_2-æ„å»ºé—®é¢˜-question-crafting" tabindex="-1"><a class="header-anchor" href="#_2-æ„å»ºé—®é¢˜-question-crafting"><span>2. æ„å»ºé—®é¢˜ï¼ˆQuestion Craftingï¼‰</span></a></h3><ol><li><strong>é€‰å–ç‰©ä½“-åŠŸèƒ½ç»„åˆ</strong>ï¼š <ul><li>ä» 3D-AffordanceNet ä¸­é€‰å–äº† <strong>58 ç§ç‰©ä½“-åŠŸèƒ½ç»„åˆ</strong>ï¼ˆå¦‚ mug-graspã€door-open ç­‰ï¼‰ï¼›</li></ul></li><li><strong>æ‰‹å·¥è®¾è®¡é—®é¢˜</strong>ï¼š <ul><li>å¯¹æ¯ç§ç»„åˆæ‰‹å·¥ç¼–å†™ <strong>5 ä¸ªä»£è¡¨æ€§é—®é¢˜</strong>ï¼›</li></ul></li><li><strong>ä½¿ç”¨ GPT-4 æ‰©å±•ç”Ÿæˆæ›´å¤šé—®é¢˜</strong>ï¼š <ul><li>ä½¿ç”¨ GPT-4 ä¸ºæ¯ä¸ªç»„åˆé¢å¤–ç”Ÿæˆ <strong>10 ä¸ªé—®é¢˜</strong>ï¼›</li><li>æ€»å…±å¾—åˆ° <strong>870 ä¸ªä¸“å®¶è®¾è®¡çš„é—®é¢˜</strong>ï¼ˆ58 Ã— 15 = 870ï¼‰ï¼›</li></ul></li></ol><figure><img src="/assets/1-DENS82kk.png" alt="Affordance-Questionæ•°æ®å¯è§†åŒ–" tabindex="0" loading="lazy"><figcaption>Affordance-Questionæ•°æ®å¯è§†åŒ–</figcaption></figure><p>åœ¨æ‰©å±•è¿‡ç¨‹ä¸­ï¼ŒGPT-4 ç”Ÿæˆçš„é—®é¢˜éµå¾ªä»¥ä¸‹ä¸‰ä¸ªå…³é”®åŸåˆ™ï¼Œä»¥ç¡®ä¿é—®é¢˜å¤šæ ·æ€§å’Œè¯­ä¹‰ä¸°å¯Œæ€§ï¼š</p><table><thead><tr><th>åŸåˆ™</th><th>æè¿°</th></tr></thead><tbody><tr><td><strong>Contextual Enrichmentï¼ˆä¸Šä¸‹æ–‡ä¸°å¯ŒåŒ–ï¼‰</strong></td><td>æ·»åŠ æ›´å¤šä¸Šä¸‹æ–‡ç»†èŠ‚ï¼Œä½¿é—®é¢˜æ›´å…·ä½“åœ°è¿æ¥ç›®æ ‡å¯¹è±¡çš„åŠŸèƒ½ï¼›<br>ä¾‹ï¼šå°† â€œGrasping scissors: top choice?â€ æ”¹ä¸º â€œIdentify the key points on the scissors that ensure successful grasping.â€</td></tr><tr><td><strong>Concise Phrasingï¼ˆç®€æ´è¡¨è¾¾ï¼‰</strong></td><td>æç‚¼é—®é¢˜æœ¬è´¨ï¼Œä½¿å…¶ç®€çŸ­ä½†ä»æœ‰æ„ä¹‰ï¼›</td></tr><tr><td><strong>Structural Diversityï¼ˆç»“æ„å¤šæ ·æ€§ï¼‰</strong></td><td>ä½¿ç”¨ä¸åŒå¥å¼ç»“æ„ï¼ˆç–‘é—®å¥ã€é™ˆè¿°å¥ç­‰ï¼‰ï¼Œé˜²æ­¢æ¨¡å‹åå‘ç‰¹å®šå¥å¼æˆ–é•¿åº¦ï¼›</td></tr></tbody></table><h3 id="_3-æ ‡æ³¨-gt-mask-ground-truth-mask" tabindex="-1"><a class="header-anchor" href="#_3-æ ‡æ³¨-gt-mask-ground-truth-mask"><span>3. æ ‡æ³¨ GT Maskï¼ˆGround Truth Maskï¼‰</span></a></h3><p>å¯¹äºæ¯ä¸ªé—®é¢˜ï¼Œç»“åˆå…¶å¯¹åº”çš„åŠŸèƒ½ç±»å‹å’ŒåŸå§‹ç‚¹äº‘æ ‡æ³¨ä¿¡æ¯ï¼Œæ„é€ å‡ºå¯¹åº”çš„äºŒå€¼æ©ç  <code>gt_mask</code>ï¼š</p><ul><li>æ¯ä¸ªç‚¹æ˜¯å¦å±äºå½“å‰é—®é¢˜æè¿°çš„åŠŸèƒ½åŒºåŸŸï¼›</li><li><code>gt_mask</code> æ˜¯ <code>(N,)</code> å½¢çŠ¶çš„ä¸€ç»´æ•°ç»„ï¼Œå…¶ä¸­ N æ˜¯ç‚¹æ•°ï¼›</li><li>æ•°å€¼å¯ä»¥æ˜¯ 0/1ï¼ˆbinary maskï¼‰ï¼Œä¹Ÿå¯ä»¥æ˜¯<strong>è½¯æ ‡ç­¾ï¼ˆsoft labelï¼‰</strong>ï¼Œè¡¨ç¤ºç‚¹å±äºè¯¥åŠŸèƒ½åŒºåŸŸçš„æ¦‚ç‡ï¼›</li><li>è½¯æ ‡ç­¾é€šå¸¸ç”¨äºè¾¹ç•Œæ¨¡ç³ŠåŒºåŸŸï¼Œåæ˜ ç‚¹ä¸åŠŸèƒ½æ ¸å¿ƒåŒºåŸŸçš„è·ç¦»è¿œè¿‘ï¼›</li></ul><blockquote><p>ğŸ’¡ æ³¨æ„ï¼šè¿™äº›åŠŸèƒ½æ ‡ç­¾ä»…ç”¨äºæ„é€ é—®é¢˜å’Œå®šä½æ­£ç¡®åŠŸèƒ½åŒºåŸŸï¼Œåœ¨è®­ç»ƒå’Œæµ‹è¯•ä¸­ä¸ä½œä¸ºæ˜¾å¼ç›‘ç£ä¿¡å·ã€‚</p></blockquote><h3 id="_4-æ•°æ®é›†ç»„ç»‡æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#_4-æ•°æ®é›†ç»„ç»‡æ–¹å¼"><span>4. æ•°æ®é›†ç»„ç»‡æ–¹å¼</span></a></h3><p>æ•°æ®æ€»é‡ï¼š</p><ul><li><strong>æ€»æ ·æœ¬æ•°</strong>ï¼š19,751 ä¸ªç‚¹äº‘-é—®é¢˜é…å¯¹ï¼›</li><li><strong>ç‰©ä½“ç±»åˆ«æ•°</strong>ï¼š23 ç±»ï¼›</li><li><strong>åŠŸèƒ½ç±»å‹æ•°</strong>ï¼š17 ç±»ï¼›</li><li><strong>é—®é¢˜æ€»æ•°</strong>ï¼š870 ä¸ªä¸“å®¶è®¾è®¡çš„é—®é¢˜ï¼›</li><li><strong>æ¯ä¸ªç‰©ä½“ç±»åˆ«å¯æœ‰å¤šä¸ªå½¢çŠ¶å®ä¾‹</strong>ï¼›</li><li><strong>ä¸€ä¸ªé—®é¢˜å¯ä»¥ä½œç”¨äºå¤šä¸ªç‰©ä½“ç±»åˆ«</strong>ï¼ˆæ³›åŒ–èƒ½åŠ›ï¼‰ï¼›</li></ul><p>æ•°æ®é›†è®¾ç½®ï¼ˆä¸¤ç§æ¨¡å¼ï¼‰ï¼š</p><p>ğŸ”¹ Seenï¼ˆè§è¿‡ï¼‰</p><ul><li>è®­ç»ƒå’Œæµ‹è¯•é˜¶æ®µå…±äº«ç›¸ä¼¼çš„ç‰©ä½“ç±»åˆ«å’ŒåŠŸèƒ½ç±»å‹çš„åˆ†å¸ƒï¼›</li><li>ç›®çš„æ˜¯è¯„ä¼°æ¨¡å‹åœ¨ç†Ÿæ‚‰åœºæ™¯ä¸‹çš„è¡¨ç°ï¼›</li></ul><p>ğŸ”¹ Unseenï¼ˆæœªè§ï¼‰</p><ul><li>æŸäº›åŠŸèƒ½ç±»å‹åœ¨ç‰¹å®šç‰©ä½“ç±»åˆ«ä¸‹ä¼šä»è®­ç»ƒé›†ä¸­çœç•¥ï¼Œä½†åœ¨æµ‹è¯•é›†ä¸­ä¿ç•™ï¼›</li><li><strong>ç›®çš„æ˜¯æµ‹è¯•æ¨¡å‹å¯¹æ–°ç»„åˆçš„æ³›åŒ–èƒ½åŠ›ï¼›</strong></li><li>ä¾‹å¦‚ï¼šæ¨¡å‹åœ¨è®­ç»ƒæœŸé—´å­¦ä¼šäº†æŠ“å–åŒ…å’Œæ¯å­ï¼Œä½†æµ‹è¯•æ—¶è¦æ±‚â€œæŠ“å–è€³æœºâ€â€”â€”è¿™æ˜¯è®­ç»ƒä¸­æœªæ›¾é‡åˆ°è¿‡çš„åŠŸèƒ½-ç‰©ä½“ç»„åˆï¼›</li></ul><p>æ•°æ®åˆ’åˆ†æ–¹å¼ï¼š</p><table><thead><tr><th>åˆ†åŒº</th><th>ç‰©ä½“ç±»åˆ«æ•°</th><th>é—®é¢˜æ•°</th><th>æ ·æœ¬æ•°</th></tr></thead><tbody><tr><td>Train</td><td>6883</td><td>638</td><td>16,120</td></tr><tr><td>Val</td><td>516</td><td>58</td><td>1,215</td></tr><tr><td>Test</td><td>1035</td><td>174</td><td>2,416</td></tr></tbody></table><h3 id="_5-æ•°æ®å¢å¼ºä¸é…å¯¹ç­–ç•¥" tabindex="-1"><a class="header-anchor" href="#_5-æ•°æ®å¢å¼ºä¸é…å¯¹ç­–ç•¥"><span>5. æ•°æ®å¢å¼ºä¸é…å¯¹ç­–ç•¥</span></a></h3><p>è®­ç»ƒé˜¶æ®µï¼š</p><ul><li>æ¯æ¬¡è¿­ä»£ä¸­ï¼Œæ¯ä¸ªå½¢çŠ¶å®ä¾‹éšæœºåŒ¹é…ä¸€ä¸ªä¸å…¶åŠŸèƒ½ç±»å‹ä¸€è‡´çš„é—®é¢˜ï¼›</li><li>éšæœºé…å¯¹ä½¿æ¨¡å‹æš´éœ²äºå„ç§è¯­ä¹‰ä¸Šä¸‹æ–‡ä¸­ï¼Œæå‡æ³›åŒ–èƒ½åŠ›ï¼›</li></ul><p>æ¨ç†é˜¶æ®µï¼ˆéªŒè¯ &amp; æµ‹è¯•ï¼‰ï¼š</p><ul><li>é—®é¢˜é…å¯¹æ˜¯å›ºå®šçš„ï¼›</li><li>æ‰€æœ‰é—®é¢˜ä¸“å±äºè¯„ä¼°é˜¶æ®µï¼Œä¸åœ¨è®­ç»ƒä¸­é€éœ²ï¼›</li><li>ç¡®ä¿æ¨ç†ä¸€è‡´æ€§ï¼Œä¿æŒè¯„ä¼°å®Œæ•´æ€§ï¼›</li></ul><h3 id="_6-æ•°æ®é›†ç»Ÿè®¡ä¿¡æ¯-æ¥è‡ªè®ºæ–‡å›¾3" tabindex="-1"><a class="header-anchor" href="#_6-æ•°æ®é›†ç»Ÿè®¡ä¿¡æ¯-æ¥è‡ªè®ºæ–‡å›¾3"><span>6. æ•°æ®é›†ç»Ÿè®¡ä¿¡æ¯ï¼ˆæ¥è‡ªè®ºæ–‡å›¾3ï¼‰</span></a></h3><table><thead><tr><th>ç»´åº¦</th><th>å†…å®¹</th></tr></thead><tbody><tr><td>åŠŸèƒ½ç±»å‹</td><td>17 ç±»ï¼Œå¦‚ graspã€openã€liftã€move ç­‰</td></tr><tr><td>ç‰©ä½“ç±»åˆ«</td><td>23 ç±»ï¼Œå¦‚ mugã€microwaveã€chairã€door ç­‰</td></tr><tr><td>ç‰©ä½“-åŠŸèƒ½ç»„åˆ</td><td>58 ç§å”¯ä¸€ç»„åˆï¼ˆobject-affordance pairsï¼‰</td></tr><tr><td>é—®é¢˜æ€»æ•°</td><td>870 ä¸ªå®šåˆ¶åŒ–é—®é¢˜</td></tr><tr><td>ç‚¹äº‘-é—®é¢˜é…å¯¹</td><td>19,751 å¯¹</td></tr><tr><td>ç‚¹äº‘æ¥æº</td><td>æ¥è‡ª 3D-AffordanceNetï¼Œæ¯ä¸ªç‚¹äº‘çº¦ 2048 ä¸ªç‚¹</td></tr></tbody></table><h3 id="_7-ä»£ç å®ç°" tabindex="-1"><a class="header-anchor" href="#_7-ä»£ç å®ç°"><span>7. ä»£ç å®ç°</span></a></h3><p><strong>æ•°æ®é›†åˆå§‹åŒ–çš„æ ¸å¿ƒä»£ç å®ç°å¦‚ä¸‹:</strong></p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">class</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> AffordQ</span><span style="--shiki-light:#C18401;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Dataset</span><span style="--shiki-light:#C18401;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    def</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> __init__</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#E5C07B;--shiki-dark-font-style:italic;">self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;">                 split</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;train&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">                 **</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;">kwargs</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">                 ):</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # æ•°æ®é›†å­˜æ”¾ç›®å½•         </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        data_root</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;LASO_dataset&#39;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # æ•°æ®é›†ç±»å‹: è®­ç»ƒé›†ï¼Œè¯„ä¼°é›†ï¼Œæµ‹è¯•é›†</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">        self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.split </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> split</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # æ‰€æ”¯æŒçš„23ç§ç‰©ä½“ç±»å‹å’Œ17ç§åŠŸèƒ½ç±»å‹ </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        classes </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Bag&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Bed&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Bowl&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Clock&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Dishwasher&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Display&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Door&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Earphone&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Faucet&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">            &quot;Hat&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;StorageFurniture&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Keyboard&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Knife&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Laptop&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Microwave&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Mug&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">            &quot;Refrigerator&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Chair&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Scissors&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Table&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;TrashCan&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Vase&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Bottle&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        afford_cl </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;lay&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;sit&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;support&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;grasp&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;lift&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;contain&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;open&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;wrap_grasp&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;pour&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">                     &#39;move&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;display&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;push&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;pull&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;listen&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;wear&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;press&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;cut&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;stab&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # å»ºç«‹ç‰©ä½“ç±»å‹å’ŒåŠŸèƒ½ç±»å‹çš„ç´¢å¼•æ˜ å°„å…³ç³»ï¼Œç¥ç»ç½‘ç»œæ¨¡å‹åªè®¤è¯†æ•°å­— </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">        self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.cls2idx </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">cls</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">lower</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">():np.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">array</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(i).</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">astype</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(np.int64) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> i, </span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">cls</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> in</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> enumerate</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(classes)}</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">        self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.aff2idx </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">cls</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:np.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">array</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(i).</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">astype</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(np.int64) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> i, </span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">cls</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> in</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> enumerate</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(afford_cl)}</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # åŠ è½½æ ‡æ³¨æ•°æ®</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        with</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> open</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(os.path.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">join</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(data_root, </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">f</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;anno_</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">{</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">split</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">}</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">.pkl&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">), </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;rb&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">as</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> f:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">            self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.anno </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> pickle.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">load</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(f)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # åŠ è½½ç‚¹äº‘æ•°æ®</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        with</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> open</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(os.path.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">join</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(data_root, </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">f</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;objects_</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">{</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">split</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">}</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">.pkl&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">), </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;rb&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">as</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> f:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">            self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.objects </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> pickle.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">load</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(f)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # åŠ è½½58ç§ç‰©ä½“-åŠŸèƒ½ç»„åˆçš„æ ‡æ³¨æ•°æ® (æ•°æ®ç»„ç»‡å½¢å¼ï¼Œå‚è€ƒä¸Šæ–‡çš„ Affordance-Questionæ•°æ®å¯è§†åŒ–å›¾)</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">        self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.question_df </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> pd.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">read_csv</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(os.path.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">join</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(data_root, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;Affordance-Question.csv&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">))</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # sort anno by object class and affordance type -- éå†æ ‡æ³¨æ•°æ®åˆ—è¡¨</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">        self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.sort_anno </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{}</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        for</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> item </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">in</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> sorted</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.anno, </span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">key</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">lambda</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> x</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: x[</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;class&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]):</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">            # è·å–å½“å‰æ ·æœ¬çš„ç‰©ä½“ç±»åˆ«å’Œç‰©ä½“ä¿¡æ¯å€¼: ç‚¹äº‘ID, åŠŸèƒ½åŒºåŸŸæ©ç , åŠŸèƒ½ç±»åˆ«</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            key </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> item[</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;class&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            value </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;shape_id&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: item[</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;shape_id&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">], </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;mask&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: item[</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;mask&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">], </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;affordance&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: item[</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;affordance&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]}</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">            # æ¯ç§ç‰©ä½“å¯ä»¥å¯¹åº”å¤šç§å½¢çŠ¶å®ä¾‹å’ŒåŠŸèƒ½ç±»åˆ«</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">            if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> key </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">not</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> in</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.sort_anno:</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">                # å¦‚æœå½“å‰ç‰©ä½“ç±»åˆ«ä¸åœ¨æ’åºåçš„å­—å…¸ä¸­ï¼Œç›´æ¥æ·»åŠ </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">                self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.sort_anno[key] </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [value]</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">            else</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">                # å¦‚æœå½“å‰ç‰©ä½“ç±»åˆ«åœ¨æ’åºåçš„å­—å…¸ä¸­ï¼Œå°†å½“å‰æ ·æœ¬çš„ç‰©ä½“ä¿¡æ¯å€¼è¿½åŠ åˆ°å¯¹åº”åˆ—è¡¨ä¸­</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">                self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.sort_anno[key].</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">append</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(value)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åŠ è½½çš„æ ‡æ³¨æ•°æ®ä¸­æ¯ä¸ªæ ·æœ¬çš„ç»„ç»‡å½¢å¼å¦‚ä¸‹:</p><ul><li>shape_id ï¼šç‚¹äº‘ID</li><li>class ï¼šç‰©ä½“ç±»åˆ«ï¼ˆå¦‚bedï¼‰</li><li>affordance ï¼šåŠŸèƒ½ç±»åˆ«ï¼ˆå¦‚layï¼‰</li><li>mask ï¼šåŠŸèƒ½åŒºåŸŸæ©ç ï¼ˆç‚¹çº§åˆ«æ ‡æ³¨ï¼‰</li></ul><figure><img src="/assets/2-CC5DRSkJ.png" alt="æ ‡æ³¨æ•°æ®ç»„ç»‡å½¢å¼" tabindex="0" loading="lazy"><figcaption>æ ‡æ³¨æ•°æ®ç»„ç»‡å½¢å¼</figcaption></figure><figure><img src="/assets/3-C_efPZbT.png" alt="ç‚¹äº‘æ•°æ®ç»„ç»‡å½¢å¼" tabindex="0" loading="lazy"><figcaption>ç‚¹äº‘æ•°æ®ç»„ç»‡å½¢å¼</figcaption></figure><figure><img src="/assets/4-CqAuwRxz.png" alt="æ¯ç§ç‰©ä½“å¯ä»¥å¯¹åº”å¤šç§å½¢çŠ¶å®ä¾‹å’ŒåŠŸèƒ½ç±»åˆ«" tabindex="0" loading="lazy"><figcaption>æ¯ç§ç‰©ä½“å¯ä»¥å¯¹åº”å¤šç§å½¢çŠ¶å®ä¾‹å’ŒåŠŸèƒ½ç±»åˆ«</figcaption></figure><p><strong>è·å–æ ·æœ¬çš„ä»£ç å®ç°:</strong></p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    def</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> __getitem__</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#E5C07B;--shiki-dark-font-style:italic;">self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> index</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">):</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # æ ¹æ®æ ·æœ¬ç´¢å¼•å–å‡ºæ ·æœ¬æ•°æ®</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        data </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.anno[index]    </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # è·å–å½“å‰æ ·æœ¬å¯¹åº”çš„ç‚¹äº‘ID        </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        shape_id </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> data[</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;shape_id&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # è·å–å½“å‰æ ·æœ¬å¯¹åº”çš„ç‰©ä½“ç±»åˆ«</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">        cls</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> data[</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;class&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        #  è·å–å½“å‰æ ·æœ¬å¯¹åº”çš„åŠŸèƒ½ç±»å‹</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        affordance </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> data[</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;affordance&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # è·å–å½“å‰æ ·æœ¬å¯¹åº”çš„åŠŸèƒ½åŒºåŸŸæ©ç </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        gt_mask </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> data[</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;mask&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # å–å‡ºå½“å‰æ ·æœ¬å¯¹åº”çš„ç‚¹äº‘æ•°æ® ï¼Œï¼ˆ2048,3)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        point_set </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.objects[</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">str</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(shape_id)]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # å¯¹ç‚¹äº‘æ•°æ®è¿›è¡Œå½’ä¸€åŒ–å¤„ç†ï¼Œæ¶ˆé™¤å°ºåº¦å·®å¼‚</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        point_set,_,_ </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;"> pc_normalize</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(point_set)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # å¯¹ç‚¹äº‘æ•°æ®è¿›è¡Œè½¬ç½®æ“ä½œ ï¼Œï¼ˆ3,2048)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        point_set </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> point_set.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">transpose</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # è·å–å½“å‰æ ·æœ¬å¯¹åº”çš„é—®é¢˜æ–‡æœ¬(è®­ç»ƒ: éšæœºé€‰ï¼› éªŒè¯&amp;æµ‹è¯•: å›ºå®šè¿”å›é—®é¢˜0)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        question </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">find_rephrase</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.question_df, </span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">cls</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, affordance)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # è·å–å½“å‰åŠŸèƒ½ç±»å‹å¯¹åº”çš„ç´¢å¼•å€¼</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        affordance </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.aff2idx[affordance]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # è¿”å›: ç‚¹äº‘æ•°æ®ï¼Œ ç‰©ä½“ç±»åˆ«ç´¢å¼•ï¼Œ åŠŸèƒ½åŒºåŸŸæ©ç ï¼Œ é—®é¢˜æ–‡æœ¬ï¼Œ åŠŸèƒ½ç±»å‹ç´¢å¼•</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        return</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> point_set, </span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.cls2idx[</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">cls</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">], gt_mask, question, affordance</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    def</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> find_rephrase</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#E5C07B;--shiki-dark-font-style:italic;">self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> df</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> object_name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> affordance</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">):</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # å¦‚æœå½“å‰æ˜¯è®­ç»ƒæ¨¡å¼ï¼Œåˆ™ä»é—®é¢˜1ï½15ä¸­éšæœºé€‰æ‹©ä¸€ä¸ªé—®é¢˜ï¼Œå¦åˆ™å›ºå®šè¿”å›é—®é¢˜0</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        qid </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> str</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(np.random.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">randint</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">15</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">if</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.split </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">==</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;train&#39;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> else</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;0&#39;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        qid </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;Question&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">+</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">qid</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # ä» DataFrame df ä¸­ç­›é€‰å‡ºåŒæ—¶æ»¡è¶³ ç‰©ä½“åç§°åŒ¹é… å’Œ åŠŸèƒ½å±æ€§åŒ¹é… çš„è¡Œï¼Œå¹¶ä»…ä¿ç•™ qid æŒ‡å®šçš„åˆ—ï¼Œä¹Ÿå°±æ˜¯å–å‡ºä¸Šé¢éšæœºé€‰æ‹©çš„é—®é¢˜æ–‡æœ¬</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        result </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> df.loc[(df[</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;Object&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">==</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> object_name) </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&amp;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (df[</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;Affordance&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">==</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> affordance), [qid]]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # é—®é¢˜æ–‡æœ¬ä¸ä¸ºç©ºï¼Œåˆ™è¿”å›è¯¥é—®é¢˜æ–‡æœ¬</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        if</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> not</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> result.empty:</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">            # return result.index[0], result.iloc[0][&#39;Rephrase&#39;]</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">            return</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> result.iloc[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">][qid]</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        else</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">            raise</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;"> NotImplementedError</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_8-æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#_8-æ€»ç»“"><span>8. æ€»ç»“</span></a></h3><p>LASO æ•°æ®é›†åŸºäº 3D-AffordanceNet çš„ç‚¹äº‘å’ŒåŠŸèƒ½æ ‡æ³¨ï¼Œç»“åˆäººå·¥+GPT-4 ç”Ÿæˆçš„å¤šæ ·åŒ–é—®é¢˜ï¼Œæ„é€ å‡º 19,751 ä¸ªç‚¹äº‘-é—®é¢˜é…å¯¹ï¼Œæ—¨åœ¨å®ç°è¯­è¨€å¼•å¯¼ä¸‹çš„ 3D åŠŸèƒ½åŒºåŸŸåˆ†å‰²ï¼Œæ¨åŠ¨ 3D è§†è§‰ä¸å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰çš„æ·±åº¦èåˆã€‚</p><h2 id="æ¨¡å‹å®ç°" tabindex="-1"><a class="header-anchor" href="#æ¨¡å‹å®ç°"><span>æ¨¡å‹å®ç°</span></a></h2><p>è®ºæ–‡æå‡ºäº†ä¸€ä¸ªå…¨æ–°çš„æ¨¡å‹ï¼š<strong>PointRefer</strong>ï¼Œç”¨äºè§£å†³ä¸€ä¸ªæ–°é¢–çš„ä»»åŠ¡ â€”â€” <strong>è¯­è¨€å¼•å¯¼çš„ 3D å¯¹è±¡åŠŸèƒ½åŒºåŸŸåˆ†å‰²ï¼ˆLASOï¼‰</strong>ã€‚</p><p>æ¨¡å‹ç›®æ ‡ï¼š ç»™å®šä¸€ä¸ª 3D ç‚¹äº‘å¯¹è±¡å’Œä¸€ä¸ªè‡ªç„¶è¯­è¨€é—®é¢˜ï¼ˆä¾‹å¦‚ï¼šâ€œWhere would you grasp this mug?â€ï¼‰ï¼ŒPointRefer çš„ç›®æ ‡æ˜¯é¢„æµ‹å‡ºä¸è¯¥é—®é¢˜ç›¸å…³çš„ç‚¹äº‘åŒºåŸŸï¼Œå³ç”Ÿæˆä¸€ä¸ªäºŒå€¼æ©ç ï¼Œè¡¨ç¤ºå“ªäº›ç‚¹å±äºç›®æ ‡åŠŸèƒ½åŒºåŸŸã€‚</p><p>PointRefer åŒ…æ‹¬ä»¥ä¸‹æ ¸å¿ƒæ¨¡å—ï¼š</p><ol><li><p><strong>3D éª¨å¹²ç½‘ç»œï¼ˆ3D Backboneï¼‰</strong></p><ul><li>ä½¿ç”¨ PointNet++ ç¼–ç ç‚¹äº‘ç‰¹å¾ï¼›</li><li>å¤šé˜¶æ®µç¼–ç -è§£ç ç»“æ„æå–å¤šå°ºåº¦ç‚¹ç‰¹å¾ï¼›</li></ul></li><li><p><strong>è‡ªé€‚åº”èåˆæ¨¡å—ï¼ˆAdaptive Fusion Module, AFMï¼‰</strong></p><ul><li>åœ¨ä¸åŒè§£ç å±‚æ³¨å…¥è¯­è¨€ä¿¡æ¯ï¼›</li><li>å®ç°è¯­è¨€å¼•å¯¼ä¸‹çš„è·¨æ¨¡æ€èåˆï¼›</li><li>å¢å¼ºç‚¹ç‰¹å¾çš„è¯­ä¹‰åˆ¤åˆ«èƒ½åŠ›ï¼›</li></ul></li><li><p><strong>å‚è€ƒç‚¹è§£ç å™¨ï¼ˆReferred Point Decoder, RPDï¼‰</strong></p><ul><li>å¼•å…¥ä¸€ç»„å¯å­¦ä¹ çš„â€œé—®é¢˜æ¡ä»¶åŒ–æŸ¥è¯¢â€ï¼ˆaffordance queriesï¼‰ï¼›</li><li>åˆ©ç”¨ Transformer è§£ç å™¨å°†è¿™äº›æŸ¥è¯¢ä¸ç‚¹äº‘ç‰¹å¾è¿›è¡Œäº¤äº’ï¼›</li><li>ç”ŸæˆåŠ¨æ€å·ç§¯æ ¸ï¼ˆdynamic kernelsï¼‰ï¼›</li><li>æœ€ç»ˆé€šè¿‡å·ç§¯æ“ä½œç”Ÿæˆåˆ†å‰²æ©ç ï¼›</li></ul></li></ol><figure><img src="/assets/5-7OypB1zI.png" alt="PointReferæ¨¡å‹ç»“æ„å›¾" tabindex="0" loading="lazy"><figcaption>PointReferæ¨¡å‹ç»“æ„å›¾</figcaption></figure><p>PointRefer å‰å‘ä¼ æ’­è¿‡ç¨‹å¦‚ä¸‹:</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">class</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> PointRefer</span><span style="--shiki-light:#C18401;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">nn</span><span style="--shiki-light:#C18401;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Module</span><span style="--shiki-light:#C18401;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    # ä¼ å…¥questionæ–‡æœ¬ å’Œ pointç‚¹äº‘æ•°æ® </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    def</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> forward</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#E5C07B;--shiki-dark-font-style:italic;">self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> text</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> xyz</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">):</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">        &#39;&#39;&#39;</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">        text: [B, L, 768]</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">        xyz: [B, 3, 2048]</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">        sub_box: bounding box of the interactive subject</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">        obj_box: bounding box of the interactive object</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">        &#39;&#39;&#39;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">         </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        B, C, N </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> xyz.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">size</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # 1. Encoding è¿‡ç¨‹</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # 1.1 Language Encoding ä½¿ç”¨RoBertç¼–ç æ–‡æœ¬</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        t_feat, t_mask </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">forward_text</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">list</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(text), xyz.device)  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># [batch, q_len, d_model]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # 1.2 BackBone Encoding ä½¿ç”¨PointNet++ç¼–ç ç‚¹äº‘</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        F_p_wise </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">point_encoder</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(xyz)     </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">        &quot;&quot;&quot; </span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">        Decoding</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">        &quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # 1.3 PointNet++ é€çº§åšç‚¹é›†æŠ½è±¡å¾—åˆ°çš„æ¯å±‚çš„ç‚¹é›†åæ ‡å’Œç‚¹é›†ç‰¹å¾é›†åˆ</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        p_0, p_1, p_2, p_3 </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> F_p_wise</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # 2.Backbone Decodingè¿‡ç¨‹</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # 2.1 ç‚¹é›†é›†åˆä¸­æ¯ä¸ªç‚¹çš„ç‰¹å¾å’Œæ–‡æœ¬ç‰¹å¾ä¿¡æ¯è¿›è¡Œèåˆ</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        p_3[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">gpb</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(t_feat, p_3[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">].</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">transpose</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)).</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">transpose</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # 2.2 PointNet++ ç‰¹å¾ä¼ æ’­é˜¶æ®µ: ä¸Šé‡‡æ ·è¿‡ç¨‹ä¸­ï¼Œä¸Šä¸€å±‚ç‚¹é›†ä¸­çš„ç‚¹ç‰¹å¾é‡å»ºè¿‡ç¨‹ä¸­ï¼Œå……åˆ†å¸æ”¶äº†é«˜çº§åŒºåŸŸæŠ½è±¡ç‰¹å¾å’Œæ–‡æœ¬ç‰¹å¾</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        up_sample </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">fp3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(p_2[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">], p_3[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">], p_2[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">], p_3[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">])   </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#[B, emb_dim, npoint_sa2]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        up_sample </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">gpb</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(t_feat, up_sample.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">transpose</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)).</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">transpose</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        up_sample </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">fp2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(p_1[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">], p_2[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">], p_1[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">], up_sample)    </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#[B, emb_dim, npoint_sa1]   </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        up_sample </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">gpb</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(t_feat, up_sample.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">transpose</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)).</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">transpose</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # 2.3 ç‰¹å¾ä¼ æ’­é˜¶æ®µç»“æŸ: ä¸€æ­¥æ­¥é‡å»ºå›åŸå§‹ç‚¹æ•°é‡ 128-&gt;256-&gt;512-&gt;1024-&gt;2048        </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        up_sample </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">fp1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(p_0[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">], p_1[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">], torch.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">cat</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">([p_0[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">], p_0[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]],</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">), up_sample)  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#[B, emb_dim, N]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        #  3. Referred Point Decodingè¿‡ç¨‹</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        t_feat </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">decoder</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(t_feat, up_sample.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">transpose</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">), </span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">tgt_key_padding_mask</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">t_mask, </span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">query_pos</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.pos1d) </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># b,l,c</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        t_feat </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">*=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> t_mask.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">unsqueeze</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">).</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">float</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        _3daffordance </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> torch.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">einsum</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;blc,bcn-&gt;bln&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, t_feat, up_sample)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        _3daffordance </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> _3daffordance.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">sum</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">/</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(t_mask.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">float</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">().</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">sum</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">).</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">unsqueeze</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">))</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        _3daffordance </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> torch.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">sigmoid</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(_3daffordance)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # logits = self.cls_head(p_3[1].mean(-1))</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        return</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> _3daffordance.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">squeeze</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!----><!----><!----></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><div class="update-time"><span class="vp-meta-label">æœ€è¿‘æ›´æ–°ï¼š</span><time class="vp-meta-info" datetime="2025-06-12T06:09:51.000Z" data-allow-mismatch>2025/6/12 06:09</time></div><div class="contributors"><span class="vp-meta-label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="vp-meta-info" title="email: 3076679680@qq.com">BinaryOracle</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><!----><a class="route-link auto-link next" href="/3DVL/Grounding_3D_Object_Affordance.html" aria-label="LMAffordance3D æ¨¡å‹ä»£ç è§£è¯»ä¸å¤ç°"><div class="hint">ä¸‹ä¸€é¡µ<span class="arrow end"></span></div><div class="link">LMAffordance3D æ¨¡å‹ä»£ç è§£è¯»ä¸å¤ç°<iconify-icon class="vp-icon" icon="fa6-solid:file" height="1em" sizing="height"></iconify-icon></div></a></nav><div id="comment" class="giscus-wrapper input-top vp-comment" vp-comment style="display:block;"><div style="display: flex;align-items: center;justify-content: center;height: 96px"><span style="--loading-icon: url(&quot;data:image/svg+xml;utf8,%3Csvg xmlns=&#39;http://www.w3.org/2000/svg&#39; preserveAspectRatio=&#39;xMidYMid&#39; viewBox=&#39;25 25 50 50&#39;%3E%3CanimateTransform attributeName=&#39;transform&#39; type=&#39;rotate&#39; dur=&#39;2s&#39; keyTimes=&#39;0;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;0;360&#39;%3E%3C/animateTransform%3E%3Ccircle cx=&#39;50&#39; cy=&#39;50&#39; r=&#39;20&#39; fill=&#39;none&#39; stroke=&#39;currentColor&#39; stroke-width=&#39;4&#39; stroke-linecap=&#39;round&#39;%3E%3Canimate attributeName=&#39;stroke-dasharray&#39; dur=&#39;1.5s&#39; keyTimes=&#39;0;0.5;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;1,200;90,200;1,200&#39;%3E%3C/animate%3E%3Canimate attributeName=&#39;stroke-dashoffset&#39; dur=&#39;1.5s&#39; keyTimes=&#39;0;0.5;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;0;-35px;-125px&#39;%3E%3C/animate%3E%3C/circle%3E%3C/svg%3E&quot;);--icon-size: 48px;display: inline-block;width: var(--icon-size);height: var(--icon-size);background-color: currentcolor;-webkit-mask-image: var(--loading-icon);mask-image: var(--loading-icon)"></span></div></div><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper" vp-footer><div class="vp-footer">æŠ€æœ¯å…±å»ºï¼ŒçŸ¥è¯†å…±äº«</div><div class="vp-copyright">Copyright Â© 2025 BinaryOracle </div></footer></div><!--]--><!--[--><!----><!--[--><!--]--><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-DCeaLz3w.js" defer></script>
  </body>
</html>
